(function(f,i,j,e){"use strict";var b={testMode:false,useSignals:false},h={type:"GET",dataType:"JSON",mock:{wasSuccess:true}},c,d={},g,a;d.required=function(b,a){if(!b)throw a;};d.required(f,"jQuery is required");a=function(d,c){var a=this;this.key=d;this.options=c;this.send=this.execute=function(d){if(d&&!d.currentTarget)c.data=d;if(!b.testMode)f.ajax(a.options).success(a.success).always(a.always).error(a.error);else{if(a.options.mock.wasSuccess)a.success(a.options.mock.responseData);else a.error(a.options.mock.responseData);a.always(a.options.responseData)}}};b.register=function(e,c){d.required(e,"Please provide a key to register");d.required(c,"You must provide an options object with a URL property");if(typeof c==="string")c={url:c};var i=new a(e,f.extend(c,h));b[e]=i;b.useSignals&&g(e,i);return i};a.fn=a.prototype;a.fn.bind=function(e,g,b){var d=this,a=d.options.data;a=c(b)?b():a;f("body").on(g,e,function(b){b.preventDefault();d.send(a)});return this};a.fn.clearCallback=function(a){delete this[a];return this};a.fn.success=function(a){if(a&&c(a))this.success=a;return this};a.fn.always=function(a){if(a&&c(a))this.always=a;return this};a.fn.error=function(a){if(a&&c(a))this.error=a;return this};g=function(b,a){d.required(e,"signals is required, please add a reference to signals");a.success(e.proxy(b+":success"));a.error(e.proxy(b+":error"));a.always(e.proxy(b+":always"))};c=function(a){return i.prototype.toString.call(a)==="[object Function]"};b.Command=a;j.commands=b})(window.jQuery,Object,window,window.signals)
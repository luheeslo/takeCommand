(function(e,i,j,f){"use strict";var b={testMode:false,useSignals:false},h={type:"GET",dataType:"JSON",mock:{wasSuccess:true}},c,d={},g,a;d.required=function(b,a){if(!b)throw a;};d.required(e,"jQuery is required");a=function(d,c){var a=this;this.key=d;this.options=c;this.send=this.execute=function(d){if(d&&!d.currentTarget)c.data=d;if(!b.testMode)e.ajax(a.options).success(a.success).always(a.always).error(a.error);else{if(a.options.mock.wasSuccess)a.success(a.options.mock.responseData);else a.error(a.options.mock.responseData);a.always(a.options.responseData)}}};b.register=function(f,c){d.required(f,"Please provide a key to register");d.required(c,"You must provide an options object with a URL property");if(typeof c==="string")c={url:c};var i=new a(f,e.extend(c,h));b[f]=i;b.useSignals&&g(f,i);return i};a.fn=a.prototype;a.fn.bind=function(h,i,f){var g=this,b=g.options.data,a,d=true;e("body").on(i,h,function(h){h.preventDefault();if(this.action&&this.method)a=e(this);if(a&&a.valid)d=a.valid();if(!d)return;if(a)b=a.serialize();b=c(f)?f.apply(this,arguments):b;g.send(b)});return this};a.fn.clearCallback=function(a){delete this[a];return this};a.fn.success=function(a){if(a&&c(a))this.success=a;return this};a.fn.always=function(a){if(a&&c(a))this.always=a;return this};a.fn.error=function(a){if(a&&c(a))this.error=a;return this};g=function(b,a){d.required(f,"signals is required, please add a reference to signals");a.success(f.proxy(b+":success"));a.error(f.proxy(b+":error"));a.always(f.proxy(b+":always"))};c=function(a){return i.prototype.toString.call(a)==="[object Function]"};b.Command=a;j.commands=b})(window.jQuery,Object,window,window.signals)
(function(f,i,j,e){"use strict";var c={testMode:false,useSignals:false},h={type:"GET",dataType:"JSON",mock:{wasSuccess:true}},d,b={},g,a;b.required=function(b,a){if(!b)throw a;};b.required(f,"jQuery is required");a=function(d,b){var a=this;this.key=d;this.options=b;this.send=this.execute=function(d){if(d&&!d.currentTarget)b.data=d;if(!c.testMode)f.ajax(a.options).success(a.success).always(a.always).error(a.error);else{if(a.options.mock.wasSuccess)a.success(a.options.mock.responseData);else a.error(a.options.mock.responseData);a.always(a.options.responseData)}}};c.register=function(d,i){b.required(d,"Please provide a key to register");b.required(i,"You must provide an options object with a URL property");b.required(i.url,"You must provide an options object with a URL property");var e=new a(d,f.extend(i,h));c[d]=e;c.useSignals&&g(d,e);return e};a.fn=a.prototype;a.fn.bind=function(e,g,b){var c=this,a=c.options.data;a=d(b)?b():a;f("body").on(g,e,function(b){b.preventDefault();c.send(a)});return this};a.fn.clearCallback=function(a){delete this[a];return this};a.fn.success=function(a){if(a&&d(a))this.success=a;return this};a.fn.always=function(a){if(a&&d(a))this.always=a;return this};a.fn.error=function(a){if(a&&d(a))this.error=a;return this};g=function(c,a){b.required(e,"signals is required, please add a reference to signals");a.success(e.proxy(c+":success"));a.error(e.proxy(c+":error"));a.always(e.proxy(c+":always"))};d=function(a){return i.prototype.toString.call(a)==="[object Function]"};c.Command=a;j.commands=c})(window.jQuery,Object,window,window.signals)
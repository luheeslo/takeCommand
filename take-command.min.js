(function(c,d,e){"use strict";var b,a={version:"0.9.3",init:function(){b()},groups:{},testMode:false};b=function(){if(typeof d.create!=="function")d.create=function(b){function a(){}a.prototype=b;return new a};if(typeof e.prototype.indexOf==="undefined")e.prototype.indexOf=function(b){for(var a=0;a<this.length;a++)return this[a]===b?a:-1}};if(!c.takeCommand)c.takeCommand=a;a.init()})(window,Object,Array);window.takeCommand.utils=function(e,d){"use strict";var a={chkArg:{}},c,b=function(a){throw a;};a.chkArg.isNotFalsy=function(c,a){!c&&b(a?"Argument cannot be falsy : "+a:"Argument cannot be falsy")};a.chkArg.isNotUndefined=function(d,a){d===c&&b(a?"Argument cannot be undefined : "+a:"Argument cannot be undefined")};a.chkArg.isNotEmpty=function(c,a){c===""&&b(a?"Argument cannot be empty : "+a:"Argument cannot be empty")};a.chkArg.isNotUndefinedOrEmpty=function(b,a){this.isNotUndefined(b,a);this.isNotEmpty(b,a)};a.chkArg.isFunction=function(c,a){typeof c!=="function"&&b(a?"Argument must be a function : "+a:"Argument must be a function")};a.makeArray=function(a){return e.prototype.slice.call(a,0)};a.each=function(b,c){this.chkArg.isNotUndefined(b);this.chkArg.isNotUndefined(c);this.chkArg.isFunction(c);for(var a=0,d=b.length;a<d;a++)if(c(b[a],a)===false)break};a.isFunction=function(a){return d.prototype.toString.call(a)==="[object Function]"};return a}(Array,Object);window.takeCommand.Events=function(a){"use strict";return{subscribers:{},subscribe:function(e,c,b){var d=e.split(" ");a.each(d,this.proxy(function(a){if(b)a=this.keyEvent(a,b);(this.subscribers[a]||(this.subscribers[a]=[])).push(c)}))},publish:function(){var c=a.makeArray(arguments),e=c.shift(),b=this.subscribers,d=b[e];if(!b)return false;if(!d)return false;a.each(d,this.proxy(function(a){if(a.apply(this,c)===false)return false}));return true},forget:function(b,d,f){if(!b){this.subscribers={};return this}if(f)b=this.keyEvent(b,f);var e=this.subscribers,c=e[b];if(!e)return false;if(!c)return false;if(!d){delete this.subscribers[b];return this}a.each(c,this.proxy(function(a,b){if(d===a){c.splice(b,1);return false}}));return this},keyEvent:function(a,b){return a+":"+b}}}(window.takeCommand.utils);window.takeCommand.Module=function(d,f){"use strict";var a,c=["included","extended"],b=d.utils,e=b.chkArg;a={inherited:function(){},created:function(){},prototype:{init:function(){},initialized:function(){}},extend:function(b){for(var a in b)if(c.indexOf(a)===-1)this[a]=b[a];var d=b.extended;d&&d.apply(this);return this},include:function(b){for(var a in b)if(c.indexOf(a)===-1)this.prototype[a]=b[a];var d=b.included;d&&d.apply(this);return this},proxy:function(a){e.isNotUndefined(a);var c=this;return function(){var d=b.makeArray(arguments);d.length>0&&d[0]&&d[0].target!=="undefined"&&d.push(f(d[0].target));a.apply(c,d)}},proxyAll:function(){for(var c=b.makeArray(arguments),a=0;a<c.length;a++)this[c[a]]=this.proxy(this[c[a]])},create:function(b,c){var a=Object.create(this);a.parent=this;a.prototype=a.fn=Object.create(this.prototype);b&&a.include(b);c&&a.extend(c);a.created();this.inherited(a);return a},init:function(){var a=Object.create(this.prototype);a.parent=this;a.init.apply(a,arguments);a.initialized.apply(a,arguments);return a}};a.prototype.proxy=a.proxy;a.prototype.proxyAll=a.proxyAll;a.base=a.create;return a}(window.takeCommand,window.jQuery);window.takeCommand.Command=function(b,c){"use strict";var d=b.Module.base(),f={type:"GET",dataType:"JSON",mock:{wasSuccess:true}},a=b.utils,e=a.chkArg;d.extend(b.Events);d.include({init:function(b,a,d){e.isNotFalsy(b,"command key");e.isNotFalsy(a,"command options");if(typeof a==="string")a={url:a};this.key=b;this.options=c.extend(a,f);this.group=d},initialized:function(){this.subscribe("send",this.proxy(function(d){if(d&&!d.currentTarget)this.options.data=d;if(this.group.testMode||b.testMode){var a=this.options.mock;if(a.wasSuccess)this.publish("success",a.responseData);else this.publish("error",a.responseData);this.publish("always",a.responseData)}else{this.options.success=this.proxy(function(){this.publish("success")});this.options.error=this.proxy(function(){this.publish("error")});this.complete=this.proxy(function(){this.publish("always")});c.ajax(this.options)}}))},send:function(a){this.publish("send",a)},on:function(i,h,f){var g=this,d=g.options.data,b,e=true;c("body").delegate(h,i,function(h){h.preventDefault();if(this.action&&this.method)b=c(this);if(b&&b.valid)e=b.valid();if(!e)return;if(b)d=b.serialize();d=a.isFunction(f)?f.apply(this,arguments):d;g.publish("send",d)});return this},success:function(b){b&&a.isFunction(b)&&this.wrap(b,"success");return this},always:function(b){b&&a.isFunction(b)&&this.wrap(b,"always");return this},error:function(b){b&&a.isFunction(b)&&this.wrap(b,"error");return this},wrap:function(b,a){this.subscribe(a,this.proxy(b))},subscribe:function(b,a){this.parent.subscribe(b,a,this.eventKey())},publish:function(a,b){this.parent.publish(this.parent.keyEvent(a,this.eventKey()),b)},clear:function(a){this.parent.forget(this.parent.keyEvent(a,this.eventKey()));return this},eventKey:function(){return this.key+":"+this.group.key}});return d}(window.takeCommand,window.jQuery);window.takeCommand.CommandGroup=function(a){"use strict";var b=a.Module.base(a.Events);b.include({testMode:false,init:function(b){this.key=b;a.groups[b]=this},initialized:function(){},register:function(c,d){var b=a.Command.init(c,d,this);this[c]=b;return b}});return b}(window.takeCommand,window.jQuery)